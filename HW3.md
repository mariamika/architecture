Цель задания — научиться критически подходить к принятию решений, постараться понять какие реализации считаются хорошими, а какие следует переписать.

1. Провести code review любого проекта на использование антипаттернов. 
Укажите классы и строки, в которых проявляются антипаттерны. 
Это задание можно делать наоборот - найти места, где антипаттерны могли бы появится, но код написан верно.

2. Распределить обнаруженные антипаттерны по категориям согласно предложенной здесь классификации. 
Предложить способы избавления от антипаттернов. 
Возникли ли случаи, когда существование антипаттерна оправдано?

========================================================================================================================

Из проекта Тасктрекер. 

########## В классе TaskSearch выполняли оптимизацию (кеширование списка выводимых задач). Делалось это конечно исходя из учебных задач. Но по сути, оптимизацию слишком рано
проводить - это антипаттерн. Когда еще не понятно полностью картины всего приложения (и возможностей его расширения). Скорее всего к моменту, когда дело дойдет до
оптимизации - выяснится что кеширование именно этих данных особо оптимизации то и не дает.

########## В классе TaskController есть такой кусок кода:

/**
* Creates a new Tasks model.
* If creation is successful, the browser will be redirected to the 'view' page.
* @return mixed
*/
    public function actionCreate()
    {
        $model = new Tasks();
        $model_pic = new Files();
        $items = ArrayHelper::map(Performer::find()->all(),'index','name');
        $projects = ArrayHelper::map(Project::find()->all(),'id_project','projectName');

        if ($model->load(Yii::$app->request->post()) && $model_pic->load(Yii::$app->request->post())) {
            $model_pic->file = UploadedFile::getInstances($model_pic,'file');
            if ($model->validate() && $model->save()){
                if ($model_pic->file && $model_pic->uploadFile()){
                    foreach ($model_pic->file as $file){
                        $picture = new Files();
                        $picture->name = $file->baseName . '.' . $file->extension;
                        $picture->address_big_picture = '/img/big/' . $picture->name;
                        $picture->address_small_picture = '/img/small/' . $picture->name;
                        $picture->tasks_id = $model->id_task;
                        $picture->save();
                    }
                    Yii::$app->cache->flush();
                    return $this->redirect(['view', 'id' => $model->id_task]);
                }
            }
        }

        return $this->render('create', [
            'model' => $model,
            'model_pic' => $model_pic,
            'items' => $items,
            'projects' =>$projects,
        ]);
    }

 Мне сразу когда писала его не понравилось, что слишком много условий. Запутанная логика. Постоянные if, if, if. Это похоже на антипаттерн Spaghetti Code.
 Сейчас бы я внесла структуру в этот код, благодаря вынесению отдельных моментов в функции с понятными именами. Например отдельно функция по сохранению имени файла.
 
  
  
########## В проекте PHP level2 мы проводили проверку корректности данных и правильности результата работы программы, используя try catch. Например вот так

/**
* Количество товаров в корзине пользователя для отображения его в меню на каждой странице
*/
    public function getCounts(){
        $sql = "select sum(amount) as amount from {$this->getTableName()} where id_user = :id_user";
        try{
            return $this->db->queryObject($sql,[':id_user' => $this->id_user], $this->getEntityClass())[0];
        } catch (\Exception $e){
            echo '<br>Количество товара в корзине не найдено<br>'; echo $e->getMessage();
        }
    }

Но в последнем проекте, Yii2 level2. Я кажется вообще не проверяла данные, получаемые извне =) Типичная ошибка новичков и соответственно антипаттерн Blind Faith.
Решение - необходимо проверять возвращаемые данные, а не верить что они конечно вернутся такими как мне надо!)) И важно не переборщить с проверками, а то это может
серьезно замедлить работу приложения.


########## Следующий антипаттерн, который я обнаружила это Coding by Exception. Вместе того, чтобы как-то сгруппировать разные Exception, я писала свой на каждый случай.
А можно было бы например написать общий Exception для всех случаев, когда данные не смогли добавиться в БД. Это и добавление данных в корзину, 
и добавление данных о пользователе в БД и т.д.  


########## Следующий антипаттерн я не обнаружила у себя, т.к. четко о нем запомнила и не делаю так ^_^  Cryptic Code. 
Все наименования стараюсь прописывать со смыслом, например dateDeadline. 

########## Еще один антипаттерн, которого в моем коде нет (в силу того, что не приходилось использовать числовые константы) - Magic Numbers.
Хотя конечно понятно, что дело не только в числовых константах. Это может касаться и какой-либо функции. Надо всегда прописывать описание, пояснение. 
Иначе через 2 недели самой будет трудно понять что я там хотела реализовать. Не говоря уже о коллегах.

########## Антипаттерн, которого нет в проекте курса по Архитектуре веб-приложений. Hard Code
Действительно, проект написан с вынесением сведений об окружении приложения в отдельный конфигурационный файл. Таким образом каждый студент мог
на своем компьютере спокойно развернуть проект, не меняя никаких настроек и не залезая в код!

########## Следующий антипаттер мог быть реализован в проекте Yii2, если бы не чуткость преподавателя ^_^
Большая часть студентов и я в том числе попытались запихать в класс TaskController не только методы по работе с самими задачами, но и сохранение файлов, загружаемых 
пользователем.
В итоге ситуацию исправили, создав отдельную модель Files и к ней свои методы.
 
########## Антипаттерн, который точно у меня присутствует и скорее всего не в одном месте - Input Kludge.
Я не особо уделяла внимание тому, чтобы составить строгую спецификацию на ввод данных, провалидировать и обезвредить введенные данные.
Конечно при использовании фреймворков этот вопрос больше решен. Но следить все равно необходимо!

########## Magic Pushbutton - точно нет этого антипаттерна в моем коде ^_^
Нас хоршо научили, что в неподходящих местах обрабатывать события взаимодействия с каким-то интерактивным элементом приложения не стоит.
Так все на своих местах - Контроллеры распределяют, Бизнес логика либо в Модели либо даже вынесена отдельно, а Представления только выводят красивую картинку))


